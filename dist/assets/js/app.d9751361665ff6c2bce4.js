webpackJsonp([1],{146:function(e,t,s){function a(e){s(201)}var n=s(5)(s(164),s(213),a,null,null);e.exports=n.exports},164:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(208),n=s.n(a),r=s(205),l=s.n(r);t.default={name:"app",components:{Search:n.a,FilterResults:l.a}}},165:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(8);t.default={name:"FilterResults",data:function(){return{visible:!1,results:[]}},methods:{updateResults:function(e){this.visible=!0,this.results=e.data},setVisible:function(e,t){t&&t.preventDefault(),this.visible=e}},created:function(){a.a.$on("results-fetched",this.updateResults)}}},166:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(9),n=s.n(a);t.default={name:"PlaceTab",props:{tab:Object,identifier:String},methods:{closePlaceTab:function(e){e.preventDefault();var t=n()({},this.identifier,this.tab);this.$emit("tab-closed",t,!0)}}}},167:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(20),n=s.n(a),r=s(14),l=s.n(r),i=s(8);t.default={name:"Places",props:{to:String,flyFrom:String,selectedPlaces:Object},data:function(){return{places:void 0,selectedPlace:"",axiosSource:void 0}},methods:{updatePlaces:function(e){var t=e.data;this.places=s.i(i.c)(t)},fetchPlaces:function(e){if(this.places=void 0,this.axiosSource&&this.axiosSource.cancel(),!e)return void(this.axiosSource=void 0);this.axiosSource=l.a.CancelToken.source(),l.a.get("https://api.skypicker.com/places?term="+e+"&v=2&locale=en",{cancelToken:this.axiosSource.token}).then(this.updatePlaces).catch(function(){})}},watch:{flyFrom:function(e){this.fetchPlaces(e)},to:function(e){this.fetchPlaces(e)},selectedPlace:function(e,t){if(e){var s=this.places.find(function(t){return t.id===e});if(this.to)return void this.$emit("place-selected",n()({to:s}));this.$emit("place-selected",n()({flyFrom:s}))}},selectedPlaces:function(e){e||(this.selectedPlace="")}}}},168:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(9),n=s.n(a),r=s(170),l=s.n(r),i=s(21),o=s.n(i),c=s(14),u=s.n(c),d=s(0),f=s.n(d),v=s(8),m=s(207),p=s.n(m),h=s(206),j=s.n(h);t.default={name:"SearchPanel",data:function(){return{flyFrom:"",to:"",dateFrom:f()().format("YYYY-MM-DD"),dateTo:f()().add(1,"M").format("YYYY-MM-DD"),returnFrom:"",returnTo:"",selectedPlaces:{}}},methods:{updatePlaces:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e);var s=o()(e)[0];if(t){var a=l()({},this.selectedPlaces);return delete a[s],void(this.selectedPlaces=a)}this.selectedPlaces=l()({},this.selectedPlaces,e),this[s]=""},fetchSearchResults:function(e){var t={dateFrom:this.dateFrom,dateTo:this.dateTo,returnFrom:this.returnFrom,returnTo:this.returnTo,selectedPlaces:this.formatedSelectedPlaces},a=s.i(v.b)(t),n=encodeURI("https://api.skypicker.com/flights?v=2&locale=en&"+a);return u.a.get(n)},searchAvailableFligths:function(e){e.preventDefault(),this.fetchSearchResults().then(function(e){return v.a.$emit("results-fetched",e.data)})}},computed:{minReturnFrom:function(){return f()().format("YYYY-MM-DD")},minReturnTo:function(){return f()().add(1,"M").format("YYYY-MM-DD")},formatedSelectedPlaces:function(){var e=this;return o()(this.selectedPlaces).map(function(t){return n()({},t,e.selectedPlaces[t].id)})}},components:{Places:p.a,PlaceTab:j.a}}},169:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(13),n=s(146),r=s.n(n);a.a.config.productionTip=!1,new a.a({el:"#app",template:"<App/>",components:{App:r.a}})},200:function(e,t){},201:function(e,t){},203:function(e,t,s){function a(e){return s(n(e))}function n(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./af":31,"./af.js":31,"./ar":38,"./ar-dz":32,"./ar-dz.js":32,"./ar-kw":33,"./ar-kw.js":33,"./ar-ly":34,"./ar-ly.js":34,"./ar-ma":35,"./ar-ma.js":35,"./ar-sa":36,"./ar-sa.js":36,"./ar-tn":37,"./ar-tn.js":37,"./ar.js":38,"./az":39,"./az.js":39,"./be":40,"./be.js":40,"./bg":41,"./bg.js":41,"./bn":42,"./bn.js":42,"./bo":43,"./bo.js":43,"./br":44,"./br.js":44,"./bs":45,"./bs.js":45,"./ca":46,"./ca.js":46,"./cs":47,"./cs.js":47,"./cv":48,"./cv.js":48,"./cy":49,"./cy.js":49,"./da":50,"./da.js":50,"./de":53,"./de-at":51,"./de-at.js":51,"./de-ch":52,"./de-ch.js":52,"./de.js":53,"./dv":54,"./dv.js":54,"./el":55,"./el.js":55,"./en-au":56,"./en-au.js":56,"./en-ca":57,"./en-ca.js":57,"./en-gb":58,"./en-gb.js":58,"./en-ie":59,"./en-ie.js":59,"./en-nz":60,"./en-nz.js":60,"./eo":61,"./eo.js":61,"./es":63,"./es-do":62,"./es-do.js":62,"./es.js":63,"./et":64,"./et.js":64,"./eu":65,"./eu.js":65,"./fa":66,"./fa.js":66,"./fi":67,"./fi.js":67,"./fo":68,"./fo.js":68,"./fr":71,"./fr-ca":69,"./fr-ca.js":69,"./fr-ch":70,"./fr-ch.js":70,"./fr.js":71,"./fy":72,"./fy.js":72,"./gd":73,"./gd.js":73,"./gl":74,"./gl.js":74,"./gom-latn":75,"./gom-latn.js":75,"./he":76,"./he.js":76,"./hi":77,"./hi.js":77,"./hr":78,"./hr.js":78,"./hu":79,"./hu.js":79,"./hy-am":80,"./hy-am.js":80,"./id":81,"./id.js":81,"./is":82,"./is.js":82,"./it":83,"./it.js":83,"./ja":84,"./ja.js":84,"./jv":85,"./jv.js":85,"./ka":86,"./ka.js":86,"./kk":87,"./kk.js":87,"./km":88,"./km.js":88,"./kn":89,"./kn.js":89,"./ko":90,"./ko.js":90,"./ky":91,"./ky.js":91,"./lb":92,"./lb.js":92,"./lo":93,"./lo.js":93,"./lt":94,"./lt.js":94,"./lv":95,"./lv.js":95,"./me":96,"./me.js":96,"./mi":97,"./mi.js":97,"./mk":98,"./mk.js":98,"./ml":99,"./ml.js":99,"./mr":100,"./mr.js":100,"./ms":102,"./ms-my":101,"./ms-my.js":101,"./ms.js":102,"./my":103,"./my.js":103,"./nb":104,"./nb.js":104,"./ne":105,"./ne.js":105,"./nl":107,"./nl-be":106,"./nl-be.js":106,"./nl.js":107,"./nn":108,"./nn.js":108,"./pa-in":109,"./pa-in.js":109,"./pl":110,"./pl.js":110,"./pt":112,"./pt-br":111,"./pt-br.js":111,"./pt.js":112,"./ro":113,"./ro.js":113,"./ru":114,"./ru.js":114,"./sd":115,"./sd.js":115,"./se":116,"./se.js":116,"./si":117,"./si.js":117,"./sk":118,"./sk.js":118,"./sl":119,"./sl.js":119,"./sq":120,"./sq.js":120,"./sr":122,"./sr-cyrl":121,"./sr-cyrl.js":121,"./sr.js":122,"./ss":123,"./ss.js":123,"./sv":124,"./sv.js":124,"./sw":125,"./sw.js":125,"./ta":126,"./ta.js":126,"./te":127,"./te.js":127,"./tet":128,"./tet.js":128,"./th":129,"./th.js":129,"./tl-ph":130,"./tl-ph.js":130,"./tlh":131,"./tlh.js":131,"./tr":132,"./tr.js":132,"./tzl":133,"./tzl.js":133,"./tzm":135,"./tzm-latn":134,"./tzm-latn.js":134,"./tzm.js":135,"./uk":136,"./uk.js":136,"./ur":137,"./ur.js":137,"./uz":139,"./uz-latn":138,"./uz-latn.js":138,"./uz.js":139,"./vi":140,"./vi.js":140,"./x-pseudo":141,"./x-pseudo.js":141,"./yo":142,"./yo.js":142,"./zh-cn":143,"./zh-cn.js":143,"./zh-hk":144,"./zh-hk.js":144,"./zh-tw":145,"./zh-tw.js":145};a.keys=function(){return Object.keys(r)},a.resolve=n,e.exports=a,a.id=203},205:function(e,t,s){var a=s(5)(s(165),s(210),null,null,null);e.exports=a.exports},206:function(e,t,s){var a=s(5)(s(166),s(209),null,null,null);e.exports=a.exports},207:function(e,t,s){var a=s(5)(s(167),s(211),null,null,null);e.exports=a.exports},208:function(e,t,s){function a(e){s(200)}var n=s(5)(s(168),s(212),a,"data-v-9c3e2f2c",null);e.exports=n.exports},209:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"placeTab"},[s("span",{staticClass:"placeTab--title"},[e._v(e._s(e.tab&&e.tab.name))]),e._v(" "),s("button",{staticClass:"btn btn-close",on:{click:e.closePlaceTab}},[e._v("Close")])])},staticRenderFns:[]}},210:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.results.length>0?s("div",{staticClass:"filterResults--wrapper"},[s("div",{staticClass:"filterResults--controls"},[e.visible?s("button",{staticClass:"btn btn-hide",on:{click:function(t){e.setVisible(!1)}}},[e._v("show")]):s("button",{staticClass:"btn btn-show",on:{click:function(t){e.setVisible(!0)}}},[e._v("show")])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"filterResults"},[e._m(0),e._v(" "),s("div",{staticClass:"filterResults--main"},[s("ul",e._l(e.results,function(t){return s("li",{key:t.id,staticClass:"filterResults--item"},[s("div",{staticClass:"item--attribute"},[s("span",[e._v("\n              FROM: "+e._s(t.cityFrom)+"\n            ")])]),e._v(" "),s("div",{staticClass:"item--attribute"},[s("span",[e._v("\n              TO: "+e._s(t.cityTo)+"\n            ")])]),e._v(" "),s("div",{staticClass:"item--attribute"},[s("span",[e._v("\n              PRICE: "+e._s(t.price)+" EUR\n            ")])])])}))])])]):e._e()},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"filterResults--title"},[s("h3",[e._v("AVAILABLE FLIGHTS")])])}]}},211:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"places--wrapper"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.places&&e.places.length>0,expression:"places && places.length > 0"}],staticClass:"places"},[s("ul",e._l(e.places,function(t){return s("li",{key:t.id,staticClass:"place--wrapper"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedPlace,expression:"selectedPlace"}],attrs:{type:"radio"},domProps:{value:t.id,checked:e._q(e.selectedPlace,t.id)},on:{__c:function(s){e.selectedPlace=t.id}}}),e._v(" "),s("span",{staticClass:"place--name"},[e._v(e._s(t.name))])])])}))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.places&&0===e.places.length,expression:"places && places.length === 0"}],staticClass:"places--warning"},[s("span",[e._v("\n      No results\n    ")])])])},staticRenderFns:[]}},212:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"searchPanel--wrapper"},[s("div",{staticClass:"searchPanel--form"},[s("form",{on:{submit:function(t){t.preventDefault(),e.searchAvailableFligths(t)}}},[s("div",{staticClass:"form--input"},[s("label",{attrs:{for:"searchPanel-from"}},[e._v("FROM")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.flyFrom,expression:"flyFrom"}],attrs:{id:"searchPanel-from",type:"text"},domProps:{value:e.flyFrom},on:{input:function(t){t.target.composing||(e.flyFrom=t.target.value)}}})]),e._v(" "),e.selectedPlaces.flyFrom?s("PlaceTab",{attrs:{identifier:"flyFrom",tab:e.selectedPlaces.flyFrom},on:{"tab-closed":e.updatePlaces}}):e._e(),e._v(" "),s("div",{staticClass:"searchPanel--searchResults"},[s("Places",{attrs:{flyFrom:e.flyFrom,selectedPlaces:e.selectedPlaces.flyFrom},on:{"place-selected":e.updatePlaces}})],1),e._v(" "),s("div",{staticClass:"form--input"},[s("label",{attrs:{for:"searchPanel-to"}},[e._v("TO")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.to,expression:"to"}],attrs:{id:"searchPanel-to",type:"text"},domProps:{value:e.to},on:{input:function(t){t.target.composing||(e.to=t.target.value)}}})]),e._v(" "),e.selectedPlaces.to?s("PlaceTab",{attrs:{identifier:"to",tab:e.selectedPlaces.to},on:{"tab-closed":e.updatePlaces}}):e._e(),e._v(" "),s("div",{staticClass:"searchPanel--searchResults"},[s("Places",{attrs:{to:e.to,selectedPlaces:e.selectedPlaces.to},on:{"place-selected":e.updatePlaces}})],1),e._v(" "),s("div",{staticClass:"form--date"},[s("label",{attrs:{for:"searchPanel-dateFrom"}},[e._v("DATE FROM")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.dateFrom,expression:"dateFrom"}],attrs:{id:"searchPanel-dateFrom",type:"date",min:e.dateFrom},domProps:{value:e.dateFrom},on:{input:function(t){t.target.composing||(e.dateFrom=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"form--date"},[s("label",{attrs:{for:"searchPanel-dateTo"}},[e._v("DATE TO")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.dateTo,expression:"dateTo"}],attrs:{id:"searchPanel-dateTo",type:"date",min:e.dateTo},domProps:{value:e.dateTo},on:{input:function(t){t.target.composing||(e.dateTo=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"form--date"},[s("label",{attrs:{for:"searchPanel-returnFrom"}},[e._v("RETURN FROM")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.returnFrom,expression:"returnFrom"}],attrs:{id:"searchPanel-returnFrom",type:"date",min:e.minReturnFrom},domProps:{value:e.returnFrom},on:{input:function(t){t.target.composing||(e.returnFrom=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"form--date"},[s("label",{attrs:{for:"searchPanel-returnTo"}},[e._v("RETURN TO")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.returnTo,expression:"returnTo"}],attrs:{id:"searchPanel-returnTo",type:"date",min:e.returnTo},domProps:{value:e.returnTo},on:{input:function(t){t.target.composing||(e.returnTo=t.target.value)}}})]),e._v(" "),e._m(0)],1)])])},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form--submit"},[s("input",{attrs:{type:"submit",value:"Find flights"}})])}]}},213:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("Search"),e._v(" "),s("FilterResults")],1)},staticRenderFns:[]}},8:function(e,t,s){"use strict";function a(e){return e.map(function(e){var t=e.id,s=e.value;return p()({id:t,name:s})})}function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY",s={};return v()(e).forEach(function(a){var n=e[a];n&&(s[a]=j()(n).format(t))}),p()(s)}function r(e,t){return v()(e).map(function(s){return"function"==typeof t?t(s,e[s]):d()({},s,e[s])})}function l(e){var t=[];return e.forEach(function(e){v()(e).forEach(function(s){t.push(s+"="+e[s])})}),t}function i(e){return e.join("&")}function o(e){var t=e.dateFrom,s=e.dateTo,a=e.returnFrom,o=e.returnTo,u=e.selectedPlaces,d=c({dateFrom:t,dateTo:s,returnFrom:a,returnTo:o}),f=c(u),v=d(n,r,l,i);return f(l,i)+"&"+v}function c(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return function(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];var n=0,r=s[n].apply(s,t);for(n;n<=s.length-2;n++)r=s[n+1](r);return r}}s.d(t,"c",function(){return a}),s.d(t,"b",function(){return o}),s.d(t,"a",function(){return _});var u=s(9),d=s.n(u),f=s(21),v=s.n(f),m=s(20),p=s.n(m),h=s(0),j=s.n(h),b=s(13),_=new b.a}},[169]);
//# sourceMappingURL=app.d9751361665ff6c2bce4.js.map